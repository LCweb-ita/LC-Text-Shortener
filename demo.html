<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>LC Text Shortener</title>

<script src="https://code.jquery.com/jquery-1.11.2.min.js" type="text/javascript"></script>
<script src="lc_text_shortener.js" type="text/javascript"></script>

<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />

<style type="text/css">
body * {
	font-family: Arial, Helvetica, sans-serif;
	box-sizing: border-box;
	-moz-box-sizing: border-box;	
}
h1 {
	margin-bottom: 10px;
	padding-left: 35px;	
	background: url('data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAIBAQEBAQIBAQECAgICAgQDAgICAgUEBAMEBgUGBgYFBgYGBwkIBgcJBwYGCAsICQoKCgoKBggLDAsKDAkKCgr/2wBDAQICAgICAgUDAwUKBwYHCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgr/wAARCAAZABkDAUEAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAABgcECAADBf/EADQQAAAFBAADAwkJAAAAAAAAAAECAwQFAAYHEQgSIRMxVhQVFhg3cXaz0TM4QUKTlJW04f/EABcBAAMBAAAAAAAAAAAAAAAAAAIFBgD/xAAiEQABAwMDBQAAAAAAAAAAAAABAAIRAwQhBhIxBRMUIkH/2gAMAwEAAhEDEQA/AL52nHcRlzcUcFc1629dipAvVqo5VcMXIIIoFdlEwdS8pUilD3AFNK5WOX4jN8rOW/Fz5NXIuZBZFqsJDpiuYS9waMUS66d2qk52i8qoZtl5u2o24OUF0jNHTJFYS6BImuUxQ1oBD8KPPT/iR8MP/wCGP9KndHC5Gm6Hkgh/sTukGS9xzOUv6WKgsGdyZzM88lLrGGZ8pI5fjYtzekg7bPZxNs5avXBlSdmoqBTaKYR5dAOw1rVW3qqedcr5MtLNswlB3rJNUWyyXk7QFzCiUOyIb7M2yCAj17utHPrL5D8Ktf0VPrVLAkpgcIVxzxOZYd5TYW7cEui/ZP5dNmZA7NJMUynVAgGKYhQHYb313Wu6uKLK9pZVl48ZVFzGMJtwgSPUZpgAokVMUCgYpQNvlDvEamZj4jMr2Ll+Ug4OcS83sl0wSYrMkjEMApkMICblA/URN+ajP1sE/CBv3P8AlYtQ7gkZYH3gIr4sS/sBWZc9u038QH+ZXR4qfblM+5v8glMCjKH4v//Z') no-repeat 0px 5px transparent;
}
a {
	color: #888;
	text-decoration: none;	
}
small {
	font-size: 13px;	
	font-weight: normal;
	padding-left: 10px;
}

#first_div {
	width: 90%; 
	max-width: 700px;
	 min-width: 340px; 
	 margin: 50px auto 0; 
	 color: #444;
}
#second_div{
	width: 90%; 
	max-width: 700px; 
	min-width: 340px; 
	margin: 50px auto 0; 
	background: #fff; 
	border: 6px solid #eaeaea;
	padding: 20px 30px 20px; 
	text-align: center; 
	border-radius: 2px;
	overflow: hidden;
	min-height: 950px;
}
#third_div {
	width: 90%; 
	max-width: 700px; 
	min-width: 340px; 
	margin: 10px auto 0;	
}

#second_div h4 {
	margin-top: 0;
	font-size: 19px;
	margin-bottom: 7px;	
	color: #333;
}

#second_div hr {
	width: 200%;
	margin-left: -50%;
	border: 2px solid #eaeaea;	
}
#default_txt,
#shortened_wrap {
	margin: 25px 0;
    padding: 15px;
    text-align: left;
	background: #fcfcfc;
	border-radius: 7px;
	color:#444;
	border: 1px solid #e7e7e7;
}
#shortened_wrap {
	min-width: 170px;
	min-height: 77px;	
	overflow: hidden;
	padding-bottom: 30px;
}
#second_div section a,
#second_div section strong,
#second_div section em {
	color: #63a031	
}

#shortened_txt {
	overflow: hidden;	
	min-height: 28px;
	max-width: 100%;
	min-width: 150px;
}

.ui-icon-gripsmall-diagonal-se {
	background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAFzUkdCAK7OHOkAAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAr0lEQVQ4T9XTvQ7BUBiH8YNITLgVq0Rs4hJMHVyCARGTUQw2s1uQiBtxId1FeF49b6NNxd/oSX49p01Ov9IGSiuc0IHUo+SAJqTqcXzvils21SrfgVlAzhZsMYtzt4HUGf4odmU/wdIOKLXj6K0hL/6v5thn07xuHL+2gr/cnR2gBi62UephjBr6aGGEBHJT3OF34n5qgsJJqv6FT9kPNkRhjT2Tkn1sRwxee3khPAHS7iyGKxwUEwAAAABJRU5ErkJggg==") no-repeat center center transparent !important;	
}
</style>

</head>
<body>

	<div id="first_div">
        <h1>LC Text Shortener <small><a href="http://www.lcweb.it" target="_blank">&copy; LCweb - Luca Montanari</a> </small></h1>
        <span>Micro jQuery plugin creating excerpts on the fly, basing on a fixed value or container's height</span>
	</div>
    
    <div id="second_div">
    
    	<h4>As it displays normally</h4>
    	<section id="default_txt">
        Lorem ipsum dolor sit amet, <strong>consectetur adipisci elit</strong>, sed eiusmod tempor incidunt ut <a href="#">labore et dolore magna aliqua</a>. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. <br/> <br/>
        Quis aute iure reprehenderit in voluptate velit <a href="#">esse cillum dolore eu fugiat nulla pariatur</a>. Excepteur sint obcaecat <em>cupiditat non proident, sunt in culpa qui officia</em> deserunt mollit anim id est laborum.
        <br/> <br/>
        Lorem ipsum dolor sit amet, <strong>consectetur adipisci elit</strong>, sed eiusmod tempor incidunt ut <a href="#">labore et dolore magna aliqua</a>. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. 
        <br/> <br/>
        Quis aute iure reprehenderit in voluptate velit <a href="#">esse cillum dolore eu fugiat nulla pariatur</a>. Excepteur sint obcaecat <em>cupiditat non proident, sunt in culpa qui officia</em> deserunt mollit anim id est laborum.
        </section>
    
    	<hr/>
    	
        <br/>
    	<h4>Shortened - resize it!</h4>
        <div id="shortened_wrap" class="ui-widget-content">
            <section id="shortened_txt">
            Lorem ipsum dolor sit amet, <strong>consectetur adipisci elit</strong>, sed eiusmod tempor incidunt ut <a href="#">labore et dolore magna aliqua</a>. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. <br/> <br/>
            Quis aute iure reprehenderit in voluptate velit <a href="#">esse cillum dolore eu fugiat nulla pariatur</a>. Excepteur sint obcaecat <em>cupiditat non proident, sunt in culpa qui officia</em> deserunt mollit anim id est laborum.
            <br/> <br/>
            Lorem ipsum dolor sit amet, <strong>consectetur adipisci elit</strong>, sed eiusmod tempor incidunt ut <a href="#">labore et dolore magna aliqua</a>. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. 
            <br/> <br/>
            Quis aute iure reprehenderit in voluptate velit <a href="#">esse cillum dolore eu fugiat nulla pariatur</a>. Excepteur sint obcaecat <em>cupiditat non proident, sunt in culpa qui officia</em> deserunt mollit anim id est laborum.
            </section>
        </div>
    </div>
	
    <div id="third_div">
		<em style="color: #777; font-size: 14px;">Green elements are bold and italic texts and links. Script correctly handles them on resize</em>
    </div>    
<p></p>

<script type="text/javascript">
$(document).ready(function(e) {
	$('#resize_form input[name=w]').val( $('#shortened_txt').width() );
	$('#resize_form').submit(function() {
		return false;	
	});
	
	// manual resize
	$('#resize_form input[type=button]').click(function() {
		var w = parseInt($('#resize_form input[name=w]').val()); 
		var h = parseInt($('#resize_form input[name=h]').val()); 
		
		$('#shortened_txt').css('width', w);
		$('#shortened_txt').lc_txt_shortener('[..]', h);
	});
	
	
	$("#shortened_wrap").resizable({
		stop: function(event, ui) {
			$('#shortened_txt').css('height', 'auto').css('width', ui.size.width);
			$('#shortened_txt').lc_txt_shortener('[..]', false, 'strong, a , em');
		}
	});
	
	
	$('#shortened_txt').lc_txt_shortener('[..]', 250, 'strong, a , em');
	
});
</script>

</body>
</html>
